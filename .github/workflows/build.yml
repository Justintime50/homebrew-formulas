name: build

on: [push, pull_request]

jobs:
  tap:
    runs-on: macos-latest
    steps:
      - name: Set up Homebrew
        uses: Homebrew/actions/setup-homebrew@master
      - name: Brew tap
        run: brew tap justintime50/formulas
  install:
    runs-on: macos-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2
      - name: Set up Homebrew
        uses: Homebrew/actions/setup-homebrew@master
      - name: brew install formula
        run: brew install --formula /Users/runner/work/homebrew-formulas/homebrew-formulas/formula/*.rb
  audit:
    runs-on: macos-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2
      - name: Set up Homebrew
        uses: Homebrew/actions/setup-homebrew@master
      - name: brew audit formula
        run: brew audit --formula /Users/runner/work/homebrew-formulas/homebrew-formulas/formula/*.rb
