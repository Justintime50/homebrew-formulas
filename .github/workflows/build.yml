name: build

on: [push, pull_request]

jobs:
  tap:
    runs-on: macos-latest
    steps:
      - name: Set up Homebrew
        uses: Homebrew/actions/setup-homebrew@master
      - name: Brew tap
        run: brew tap justintime50/formulas
  install:
    runs-on: macos-latest
    steps:
      - name: Set up Homebrew
        uses: Homebrew/actions/setup-homebrew@master
      - name: brew install all
        run: brew install --formula /home/runner/work/homebrew-formulas/homebrew-formulas/formulas/*.rb
  audit:
    runs-on: macos-latest
    steps:
      - name: Set up Homebrew
        uses: Homebrew/actions/setup-homebrew@master
      - name: brew audit all
        run: brew audit --formula /home/runner/work/homebrew-formulas/homebrew-formulas/formulas/*.rb
